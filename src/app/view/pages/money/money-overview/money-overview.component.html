<ion-content>
  <div class="container">
    <div class="money-overview-container">
      <h1 class="heading" alyGoBack><i class="icon icon-back"></i>Biểu đồ</h1>
      <div class="pick-month aly-card">
        <div (click)="picker.open()" alyTouchReact>
          <p>{{ "Tháng đang xem: Tháng " + (dateSelect + 1) }}</p>
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <input [matDatepicker]="picker" />
          <mat-datepicker
            startView="year"
            touchUi
            #picker
            (monthSelected)="chosenMonthHandler($event, picker)"
          ></mat-datepicker>
        </div>
      </div>

      <div style="display: block" class="aly-card chart">
        <p>Thu nhập</p>
        <div class="chart-container">
          <aly-money-chart [chartData]="incomePieChartData"></aly-money-chart>
        </div>
      </div>

      <div style="display: block" class="aly-card chart">
        <p>Chi tiêu</p>
        <div class="chart-container">
          <aly-money-chart [chartData]="outcomePieChartData"></aly-money-chart>
        </div>
      </div>

      <div style="display: block" class="aly-card chart">
        <p>Nợ/Tài Sản</p>
        <div class="chart-container">
          <aly-money-chart [chartData]="loanChartData"></aly-money-chart>
        </div>
      </div>

      <div class="aly-card income-progress">
        <p>
          Kế hoạch thu
          <span
            [class]="
              totalIncomeProgress > totalIncomeMax
                ? 'incomeColorUper'
                : 'incomeColorUp'
            "
            >{{
              (totalIncomeProgress | number) + "/" + (totalIncomeMax | number)
            }}</span
          >
        </p>
        <aly-money-progress
          *ngFor="let progress of incomeProgress"
          [progressTag]="progress"
        ></aly-money-progress>
      </div>

      <div class="aly-card outcome-progress">
        <p>
          Kế hoạch chi
          <span
            [class]="
              totalOutcomeProgress > totalOutcomeMax
                ? 'outcomeColorUp'
                : 'outcomeColorDown'
            "
            >{{
              (totalOutcomeProgress | number) + "/" + (totalOutcomeMax | number)
            }}</span
          >
        </p>
        <aly-money-progress
          *ngFor="let progress of outcomeProgress"
          [progressTag]="progress"
        ></aly-money-progress>
      </div>
    </div>
  </div>
</ion-content>
